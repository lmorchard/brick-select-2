!function e(t,n,r){function i(a,l){if(!n[a]){if(!t[a]){var c="function"==typeof require&&require;if(!l&&c)return c(a,!0);if(o)return o(a,!0);var s=new Error("Cannot find module '"+a+"'");throw s.code="MODULE_NOT_FOUND",s}var u=n[a]={exports:{}};t[a][0].call(u.exports,function(e){var n=t[a][1][e];return i(n?n:e)},u,u.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e){function t(e){return{get:function(){return this.ns[e]},set:function(t){return this.attributeChangedCallback(e,this.ns[e],t)}}}function n(e,t){return function(n){for(var r=n.target,i=n.currentTarget,o=i.querySelectorAll(e),a=r;a.parentNode&&a!==i;a=a.parentNode)for(var l=0;l<o.length;l++)if(o[l]===a)return void t.call(a,n)}}function r(e){return e.stopPropagation(),e.preventDefault(),!1}e("document-register-element");var i=document.implementation.createHTMLDocument("");i.body.innerHTML=e("./element.html");var o=Object.create(HTMLSelectElement.prototype);o.createdCallback=function(){this.ns={},this.style.display="none"},o.attachedCallback=function(){var e=this.ns.proxy=document.createElement("brick-select-proxy");this.parentNode.insertBefore(e,this),e.proxyForSelect(this)},o.detachedCallback=function(){this.parentNode.removeChild(this.ns.proxy)},window.BrickSelectElement=document.registerElement("brick-select",{prototype:o,"extends":"select"});var a=Object.create(HTMLElement.prototype),l={"for":function(e,t){var n=t,r=document.querySelector('select[name="'+n+'"]');this.ns.select!==r&&this.proxyForSelect(r)}},c={select:{get:function(){return this.ns.select},set:function(e){return this.proxyForSelect(e)}}};for(var s in l)c.hasOwnProperty(s)||(c[s]=t(s));Object.defineProperties(a,c);var u="template#brick-select-template",d="template#brick-select-option-template";a.createdCallback=function(){this.ns={};var e=i.querySelector(u),t=this.root=document.createElement("div");t.className="brick-select-proxy-root",t.appendChild(e.content.cloneNode(!0));var n=this.getAttribute("title");if(n)t.querySelector("header h1").textContent=n;else{var r=t.querySelector("header");r.parentNode.removeChild(r)}t.querySelector("button.handle span").textContent=n;for(var o in l)this.hasAttribute(o)&&l[o].call(this,null,this.getAttribute(o))},a.attachedCallback=function(){var e=this,t=this.root;this.appendChild(this.root),this.updateSelectFromDialog(),document.addEventListener("click",function(t){if(e.select){var i='label[for="'+e.select.getAttribute("name")+'"]';return n(i,function(t){return e.show(),r(t)})(t)}}),t.querySelector("button.handle").addEventListener("click",function(t){return e.show(),r(t)}),t.querySelector("button.close").addEventListener("click",function(t){return e.hide(),r(t)}),t.querySelector("button.cancel").addEventListener("click",function(t){return e.hide(),r(t)}),t.querySelector("button.commit").addEventListener("click",function(t){return e.hide(),e.updateSelectFromDialog(),r(t)}),t.addEventListener("click",function(t){return t.target===e.root.querySelector(".dialogue")?e.hide():n(".menu-item",function(t){e.animateMenuItemClick(this,t),e.select&&e.select.hasAttribute("multiple")?e.toggleSelected(this):(e.setSelected(this),e.hide(),e.updateSelectFromDialog())})(t),r(t)})},a.detachedCallback=function(){this.root.parentNode.removeChild(this.root)},a.attributeChangedCallback=function(e,t,n){e in l&&l[e].call(this,t,n)},a.show=function(){function e(){this.removeEventListener("animationend",e),this.removeEventListener("webkitAnimationEnd",e),t.setAttribute("show","")}this.updateDialogFromSelect();var t=this.root.querySelector(".dialogue");t.setAttribute("show","in"),t.querySelector(".panel").addEventListener("animationend",e),t.querySelector(".panel").addEventListener("webkitAnimationEnd",e)},a.hide=function(){function e(n){n.target===this&&(this.removeEventListener("animationend",e),this.removeEventListener("webkitAnimationEnd",e),t.removeAttribute("show"))}var t=this.root.querySelector(".dialogue");t.setAttribute("show","out"),t.addEventListener("animationend",e,!1),t.addEventListener("webkitAnimationEnd",e,!1)},a.proxyForSelect=function(e){if(this.ns.select=e,e){var t=e.getAttribute("name");this.setAttribute("for",this.ns["for"]=t),this.updateDialogFromSelect()}return e},a.setSelected=function(e){this.clearSelected(),e.classList.add("selected")},a.toggleSelected=function(e){e.classList.toggle("selected")},a.clearSelected=function(){for(var e=this.root.querySelectorAll("li"),t=0;t<e.length;t++)e[t].classList.remove("selected")},a.updateDialogFromSelect=function(){for(var e=this.root.querySelector("ul.menu");e.firstChild;)e.removeChild(e.firstChild);if(this.ns.select){this.ns.select.hasAttribute("multiple")?this.setAttribute("multiple",!0):this.removeAttribute("multiple");for(var t=i.querySelector(d).content,n=this.ns.select.querySelectorAll("option"),r=0;r<n.length;r++){var o=n[r],a=t.cloneNode(!0).querySelector("li"),l=o.hasAttribute("selected");a.classList[l?"add":"remove"]("selected"),a.setAttribute("data-value",o.getAttribute("value")),a.querySelector(".label").innerHTML=o.innerHTML,e.appendChild(a)}this.updateHandleText()}},a.updateSelectFromDialog=function(){if(this.ns.select){for(var e=this.ns.select.querySelectorAll("option"),t={},n=0;n<e.length;n++){var r=e[n];r.removeAttribute("selected"),t[r.getAttribute("value")]=r}for(var i=this.root.querySelectorAll("li.selected"),o=0;o<i.length;o++){var a=i[o],l=a.getAttribute("data-value");t[l]&&t[l].setAttribute("selected",!0)}this.updateHandleText(),this.ns.select.dispatchEvent(new Event("change",{view:window,bubbles:!0,cancelable:!0}))}},a.updateHandleText=function(){for(var e=[],t=this.root.querySelectorAll("li.selected"),n=0;n<t.length;n++)e.push(t[n].querySelector(".label").textContent);this.root.querySelector("button.handle span").textContent=e.join(", ")},a.animateMenuItemClick=function(e,t){var n=this.root.querySelector(".feedback.animate");n&&n.classList.remove("animate");var r=e.querySelector(".feedback");if(r){var i=2*r.parentNode.offsetWidth;r.style.width=i+"px",r.style.height=i+"px",r.style.top=i/2*-1+this.offsetHeight/2+"px",r.style.left=t.layerX-i/2+"px",r.classList.add("animate")}},a.attributeChangedCallback=function(e,t,n){e in l&&l[e].call(this,t,n)},window.BrickSelectProxyElement=document.registerElement("brick-select-proxy",{prototype:a})},{"./element.html":3,"document-register-element":2}],2:[function(){!function(e,t,n,r){"use strict";function i(e,t){for(var n=0,r=e.length;r>n;n++)f(e[n],t)}function o(e){for(var t,n=0,r=e.length;r>n;n++)t=e[n],y(t,q[l(t)])}function a(e){return function(t){I.call(G,t)&&(f(t,e),i(t.querySelectorAll(x),e))}}function l(e){var t=e.getAttribute("is"),n=e.nodeName,r=T.call(w,t?k+t.toUpperCase():L+n);return t&&r>-1&&!c(n,t)?-1:r}function c(e,t){return-1<x.indexOf(e+'[is="'+t+'"]')}function s(e){var t=e.currentTarget,n=e.attrChange,r=e.prevValue,i=e.newValue;t.attributeChangedCallback&&"style"!==e.attrName&&t.attributeChangedCallback(e.attrName,n===e.ADDITION?null:r,n===e.REMOVAL?null:i)}function u(e){var t=a(e);return function(e){t(e.target)}}function d(e,t){var n=this;X.call(n,e,t),p.call(n,{target:n})}function h(e,t){B(e,t),b?b.observe(e,Y):(J&&(e.setAttribute=d,e[A]=m(e),e.addEventListener(E,p)),e.addEventListener(S,s)),e.createdCallback&&(e.created=!0,e.createdCallback(),e.created=!1)}function f(e,t){var n,r=l(e),i="attached",o="detached";r>-1&&(g(e,q[r]),r=0,t!==i||e[i]?t===o&&!e[o]&&(e[i]=!1,e[o]=!0,r=1):(e[o]=!1,e[i]=!0,r=1),r&&(n=e[t+"Callback"])&&n.call(e))}if(!(r in t)){var p,v,m,b,g,y,A="__"+r+(1e5*Math.random()>>0),C="extends",S="DOMAttrModified",E="DOMSubtreeModified",L="<",k="=",N=/^[A-Z][A-Z0-9]*(?:-[A-Z0-9]+)+$/,O=["ANNOTATION-XML","COLOR-PROFILE","FONT-FACE","FONT-FACE-SRC","FONT-FACE-URI","FONT-FACE-FORMAT","FONT-FACE-NAME","MISSING-GLYPH"],w=[],q=[],x="",M=t.documentElement,T=w.indexOf||function(e){for(var t=this.length;t--&&this[t]!==e;);return t},F=n.prototype,D=F.hasOwnProperty,I=F.isPrototypeOf,P=n.defineProperty,H=n.getOwnPropertyDescriptor,_=n.getOwnPropertyNames,R=n.getPrototypeOf,U=n.setPrototypeOf,V=!!n.__proto__,j=n.create||function Q(e){return e?(Q.prototype=e,new Q):this},B=U||(V?function(e,t){return e.__proto__=t,e}:_&&H?function(){function e(e,t){for(var n,r=_(t),i=0,o=r.length;o>i;i++)n=r[i],D.call(e,n)||P(e,n,H(t,n))}return function(t,n){do e(t,n);while(n=R(n));return t}}():function(e,t){for(var n in t)e[n]=t[n];return e}),Z=e.MutationObserver||e.WebKitMutationObserver,G=(e.HTMLElement||e.Element||e.Node).prototype,W=G.cloneNode,X=G.setAttribute,K=t.createElement,Y=Z&&{attributes:!0,characterData:!0,attributeOldValue:!0},$=Z||function(){J=!1,M.removeEventListener(S,$)},z=!1,J=!0;U||V?(g=function(e,t){I.call(t,e)||h(e,t)},y=h):(g=function(e,t){e[A]||(e[A]=n(!0),h(e,t))},y=g),Z||(M.addEventListener(S,$),M.setAttribute(A,1),M.removeAttribute(A),J&&(p=function(e){var t,n,r,i=this;if(i===e.target){t=i[A],i[A]=n=m(i);for(r in n){if(!(r in t))return v(0,i,r,t[r],n[r],"ADDITION");if(n[r]!==t[r])return v(1,i,r,t[r],n[r],"MODIFICATION")}for(r in t)if(!(r in n))return v(2,i,r,t[r],n[r],"REMOVAL")}},v=function(e,t,n,r,i,o){var a={attrChange:e,currentTarget:t,attrName:n,prevValue:r,newValue:i};a[o]=e,s(a)},m=function(e){for(var t,n,r={},i=e.attributes,o=0,a=i.length;a>o;o++)t=i[o],n=t.name,"setAttribute"!==n&&(r[n]=t.value);return r})),t[r]=function(e,n){if(r=e.toUpperCase(),z||(z=!0,Z?(b=function(e,t){function n(e,t){for(var n=0,r=e.length;r>n;t(e[n++]));}return new Z(function(r){for(var i,o,a=0,l=r.length;l>a;a++)i=r[a],"childList"===i.type?(n(i.addedNodes,e),n(i.removedNodes,t)):(o=i.target,o.attributeChangedCallback&&"style"!==i.attributeName&&o.attributeChangedCallback(i.attributeName,i.oldValue,o.getAttribute(i.attributeName)))})}(a("attached"),a("detached")),b.observe(t,{childList:!0,subtree:!0})):(t.addEventListener("DOMNodeInserted",u("attached")),t.addEventListener("DOMNodeRemoved",u("detached"))),t.addEventListener("readystatechange",function(){i(t.querySelectorAll(x),"attached")}),t.createElement=function(e,n){var r=K.apply(t,arguments),i=T.call(w,(n?k:L)+(n||e).toUpperCase()),o=i>-1;return n&&(r.setAttribute("is",n=n.toLowerCase()),o&&(o=c(e.toUpperCase(),n))),o&&y(r,q[i]),r},G.cloneNode=function(e){var t=W.call(this,!!e),n=l(t);return n>-1&&y(t,q[n]),e&&o(t.querySelectorAll(x)),t}),-2<T.call(w,k+r)+T.call(w,L+r))throw new Error("A "+e+" type is already registered");if(!N.test(r)||-1<T.call(O,r))throw new Error("The type "+e+" is invalid");var r,s=function(){return t.createElement(f,h&&r)},d=n||F,h=D.call(d,C),f=h?n[C].toUpperCase():r,p=w.push((h?k:L)+r)-1;return x=x.concat(x.length?",":"",h?f+'[is="'+e.toLowerCase()+'"]':f),s.prototype=q[p]=D.call(d,"prototype")?d.prototype:j(G),i(t.querySelectorAll(x),"attached"),s}}}(window,document,Object,"registerElement")},{}],3:[function(e,t){t.exports='<template id="brick-select-template">\n  <button class="handle"><span></span></button>\n\n  <div class="dialogue" role="dialog">\n    <div class="panel">\n      <header>\n        <h1></h1>\n      </header>\n      <ul class="menu">\n      </ul>\n      <footer class="single">\n        <button class="close">Close</button>\n      </footer>\n      <footer class="multiple">\n        <button class="cancel">Cancel</button>\n        <button class="commit">Select</button>\n      </footer>\n    </div>\n  </div>\n</template>\n\n<template id="brick-select-option-template">\n  <li class="menu-item">\n    <span class="label"></span><i class="icon"></i>\n    <div class="feedback"></div>\n  </li>\n</template>\n'},{}]},{},[1]);